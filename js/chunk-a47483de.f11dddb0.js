(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a47483de"],{"00b4":function(e,t,r){"use strict";r("ac1f");var n=r("23e7"),c=r("da84"),o=r("c65b"),a=r("e330"),s=r("1626"),u=r("861d"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),l=c.Error,b=a(/./.test);n({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=this.exec;if(!s(t))return b(this,e);var r=o(t,this,e);if(null!==r&&!u(r))throw new l("RegExp exec method returned something other than an Object or null");return!!r}})},"159b":function(e,t,r){var n=r("da84"),c=r("fdbc"),o=r("785a"),a=r("17c2"),s=r("9112"),u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var i in c)c[i]&&u(n[i]&&n[i].prototype);u(o)},"15f6":function(e,t,r){"use strict";r("2241")},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,c=r("a640"),o=c("forEach");e.exports=o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},2241:function(e,t,r){},"2a58":function(e,t,r){"use strict";r.r(t);r("b0c0"),r("b64b");var n=r("7a23"),c={class:"order"},o=Object(n["g"])("ol",{class:"cart-progress"},[Object(n["g"])("li",null,[Object(n["g"])("span",null,"step 1"),Object(n["i"])("確認清單")]),Object(n["g"])("li",{class:"cur-step"},[Object(n["g"])("span",null,"step 2"),Object(n["i"])("填寫資料")]),Object(n["g"])("li",null,[Object(n["g"])("span",null,"step 3"),Object(n["i"])("確認付款")]),Object(n["g"])("li",null,[Object(n["g"])("span",null,"step 4"),Object(n["i"])("完成訂單")])],-1),a={class:"check-form"},s={class:"form-group"},u=Object(n["g"])("label",{for:"name"},"姓名",-1),i=Object(n["g"])("span",null,"必填",-1),l={class:"form-group"},b=Object(n["g"])("label",{for:"email"},"信箱",-1),f=Object(n["g"])("span",null,"必填",-1),d={class:"form-group"},p=Object(n["g"])("label",{for:"tel"},"手機",-1),O=Object(n["g"])("span",null,"必填",-1),j={class:"form-group"},m=Object(n["g"])("label",{for:"address"},"地址",-1),g=Object(n["g"])("span",null,"必填",-1),h={class:"form-group"},v=Object(n["g"])("label",{for:"msg"},"備註",-1),y={class:"form-btn"};function w(e,t,r,w,E,P){var V=this,x=Object(n["F"])("Loading"),k=Object(n["F"])("Field"),S=Object(n["F"])("ErrorMessage"),F=Object(n["F"])("Form");return Object(n["z"])(),Object(n["f"])("div",c,[E.isLoading?(Object(n["z"])(),Object(n["d"])(x,{key:0})):Object(n["e"])("",!0),o,Object(n["g"])("div",a,[Object(n["j"])(F,null,{default:Object(n["R"])((function(e){var r=e.errors;return[Object(n["g"])("div",s,[u,i,Object(n["j"])(k,{id:"name",name:"姓名",rules:"required",type:"text",placeholder:"請填寫姓名",modelValue:E.form.user.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return E.form.user.name=e})},null,8,["modelValue"]),Object(n["j"])(S,{name:"姓名",class:"err-msg"})]),Object(n["g"])("div",l,[b,f,Object(n["j"])(k,{id:"email",name:"信箱",rules:"email|required",type:"email",placeholder:"請填寫信箱",modelValue:E.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return E.form.user.email=e})},null,8,["modelValue"]),Object(n["j"])(S,{name:"信箱",class:"err-msg"})]),Object(n["g"])("div",d,[p,O,Object(n["j"])(k,{id:"tel",name:"手機",type:"tel",rules:P.isPhone,placeholder:"請填寫手機(09)",modelValue:E.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return E.form.user.tel=e})},null,8,["rules","modelValue"]),Object(n["j"])(S,{name:"手機",class:"err-msg"})]),Object(n["g"])("div",j,[m,g,Object(n["j"])(k,{id:"address",name:"地址",rules:"required",type:"text",placeholder:"請填寫地址",modelValue:E.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return E.form.user.address=e})},null,8,["modelValue"]),Object(n["j"])(S,{name:"地址",class:"err-msg"})]),Object(n["g"])("div",h,[v,Object(n["S"])(Object(n["g"])("textarea",{id:"msg",placeholder:"有特別事項請輸入在這","onUpdate:modelValue":t[4]||(t[4]=function(e){return E.form.message=e})},null,512),[[n["N"],E.form.message]])]),Object(n["g"])("div",y,[Object(n["g"])("button",{type:"button",onClick:t[5]||(t[5]=function(e){return V.$router.push("/cart")})},"上一步"),0===Object.keys(r).length?(Object(n["z"])(),Object(n["f"])("button",{key:0,class:"to-pay",type:"button",onClick:t[6]||(t[6]=function(){return P.createOrder&&P.createOrder.apply(P,arguments)})},"下一步")):Object(n["e"])("",!0)])]})),_:1})])])}var E=r("5530"),P=(r("99af"),r("e9c4"),r("ac1f"),r("00b4"),r("c2a1")),V={data:function(){return{isLoading:!1,form:{user:{name:"",email:"",tel:"",address:""},message:""}}},components:{Loading:P["a"]},inject:["emitter"],methods:{createOrder:function(){var e=this,t=Object(E["a"])({},this.form);this.isLoading=!0,this.$http.post("".concat("https://vue3-course-api.hexschool.io/","v2/api/").concat("tedbirdy","/order"),{data:t}).then((function(t){e.isLoading=!1,localStorage.setItem("orderId",JSON.stringify(t.data.orderId)),e.emitter.emit("push-cart"),e.emitter.emit("push-toast",{style:"success",title:"已建立訂單"}),e.$router.push("/pay")})).catch((function(t){e.isLoading=!1,e.emitter.emit("push-toast",{style:"danger",title:"訂單建立失敗",content:t.response.data.message})}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的手機號碼(09)"}}},x=(r("15f6"),r("6b0d")),k=r.n(x);const S=k()(V,[["render",w]]);t["default"]=S},"4de4":function(e,t,r){"use strict";var n=r("23e7"),c=r("b727").filter,o=r("1dde"),a=o("filter");n({target:"Array",proto:!0,forced:!a},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},b0c0:function(e,t,r){var n=r("83ab"),c=r("5e77").EXISTS,o=r("e330"),a=r("9bf2").f,s=Function.prototype,u=o(s.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(i.exec),b="name";n&&!c&&a(s,b,{configurable:!0,get:function(){try{return l(i,u(this))[1]}catch(e){return""}}})},b64b:function(e,t,r){var n=r("23e7"),c=r("7b0b"),o=r("df75"),a=r("d039"),s=a((function(){o(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(e){return o(c(e))}})},dbb4:function(e,t,r){var n=r("23e7"),c=r("83ab"),o=r("56ef"),a=r("fc6a"),s=r("06cf"),u=r("8418");n({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,r,n=a(e),c=s.f,i=o(n),l={},b=0;while(i.length>b)r=c(n,t=i[b++]),void 0!==r&&u(l,t,r);return l}})},e439:function(e,t,r){var n=r("23e7"),c=r("d039"),o=r("fc6a"),a=r("06cf").f,s=r("83ab"),u=c((function(){a(1)})),i=!s||u;n({target:"Object",stat:!0,forced:i,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})}}]);
//# sourceMappingURL=chunk-a47483de.f11dddb0.js.map