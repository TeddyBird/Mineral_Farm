(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fbbb0ee"],{"04d1":function(t,e,c){var i=c("342f"),a=i.match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},"15e8":function(t,e,c){},1799:function(t,e,c){"use strict";var i=c("7a23"),a={class:"pagination"},n=Object(i["g"])("i",{class:"fa-solid fa-angles-left"},null,-1),o=[n],r=["onClick"],s=Object(i["g"])("i",{class:"fa-solid fa-angles-right"},null,-1),u=[s];function l(t,e,c,n,s,l){return Object(i["z"])(),Object(i["f"])("div",a,[Object(i["g"])("ul",null,[Object(i["g"])("li",{class:Object(i["r"])(["pre-page",{disabledBtn:!c.pages.has_pre}]),onClick:e[0]||(e[0]=function(t){return l.changePage("prev")})},o,2),(Object(i["z"])(!0),Object(i["f"])(i["a"],null,Object(i["E"])(c.pages.total_pages,(function(e){return Object(i["z"])(),Object(i["f"])("li",{key:e+1,class:Object(i["r"])({activePage:c.pages.current_page===e}),onClick:function(i){return t.$emit("get-page",e,c.category)}},Object(i["I"])(e),11,r)})),128)),Object(i["g"])("li",{class:Object(i["r"])(["next-page",{disabledBtn:!c.pages.has_next}]),onClick:e[1]||(e[1]=function(t){return l.changePage("next")})},u,2)])])}var g={props:["pages","category"],data:function(){return{}},methods:{changePage:function(t){"next"===t?this.$emit("get-page",this.pages.current_page+1,this.category):"prev"===t&&this.$emit("get-page",this.pages.current_page-1,this.category)}}},d=(c("53ab"),c("6b0d")),f=c.n(d);const b=f()(g,[["render",l]]);e["a"]=b},"1b18":function(t,e,c){t.exports=c.p+"img/horse.60fcd2fd.png"},"4e82":function(t,e,c){"use strict";var i=c("23e7"),a=c("e330"),n=c("59ed"),o=c("7b0b"),r=c("07fa"),s=c("577e"),u=c("d039"),l=c("addb"),g=c("a640"),d=c("04d1"),f=c("d998"),b=c("2d00"),p=c("512c"),O=[],j=a(O.sort),h=a(O.push),v=u((function(){O.sort(void 0)})),m=u((function(){O.sort(null)})),y=g("sort"),k=!u((function(){if(b)return b<70;if(!(d&&d>3)){if(f)return!0;if(p)return p<603;var t,e,c,i,a="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:c=3;break;case 68:case 71:c=4;break;default:c=2}for(i=0;i<47;i++)O.push({k:e+i,v:c})}for(O.sort((function(t,e){return e.v-t.v})),i=0;i<O.length;i++)e=O[i].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}})),C=v||!m||!y||!k,I=function(t){return function(e,c){return void 0===c?-1:void 0===e?1:void 0!==t?+t(e,c)||0:s(e)>s(c)?1:-1}};i({target:"Array",proto:!0,forced:C},{sort:function(t){void 0!==t&&n(t);var e=o(this);if(k)return void 0===t?j(e):j(e,t);var c,i,a=[],s=r(e);for(i=0;i<s;i++)i in e&&h(a,e[i]);l(a,I(t)),c=a.length,i=0;while(i<c)e[i]=a[i++];while(i<s)delete e[i++];return e}})},"512c":function(t,e,c){var i=c("342f"),a=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},"53ab":function(t,e,c){"use strict";c("15e8")},"67c3":function(t,e,c){t.exports=c.p+"img/cow.ec4fe092.png"},"74eb":function(t,e,c){t.exports=c.p+"img/koro-chara.fc4c2aba.png"},a11d:function(t,e,c){t.exports=c.p+"img/chicken.ba1717ba.png"},addb:function(t,e,c){var i=c("4dae"),a=Math.floor,n=function(t,e){var c=t.length,s=a(c/2);return c<8?o(t,e):r(t,n(i(t,0,s),e),n(i(t,s),e),e)},o=function(t,e){var c,i,a=t.length,n=1;while(n<a){i=n,c=t[n];while(i&&e(t[i-1],c)>0)t[i]=t[--i];i!==n++&&(t[i]=c)}return t},r=function(t,e,c,i){var a=e.length,n=c.length,o=0,r=0;while(o<a||r<n)t[o+r]=o<a&&r<n?i(e[o],c[r])<=0?e[o++]:c[r++]:o<a?e[o++]:c[r++];return t};t.exports=n},ae33:function(t,e,c){t.exports=c.p+"img/shopsign.f1607c68.png"},d4e4:function(t,e,c){t.exports=c.p+"img/rabbit.2fba51df.png"},d645:function(t,e,c){"use strict";c.r(e);c("4e82"),c("caad"),c("2532");var i=c("7a23"),a=c("ae33"),n=c.n(a),o=c("74eb"),r=c.n(o),s=c("67c3"),u=c.n(s),l=c("a11d"),g=c.n(l),d=c("d4e4"),f=c.n(d),b=c("da95"),p=c.n(b),O=c("1b18"),j=c.n(O),h={class:"products"},v=Object(i["g"])("img",{src:n.a,alt:"牧場商店招牌"},null,-1),m=[v],y={class:"product-sction"},k={class:"product-sort container"},C=Object(i["i"])("全部商品 "),I=Object(i["g"])("img",{src:r.a,alt:"全部商品"},null,-1),L=[C,I],x=Object(i["i"])("乳香世家 "),P=Object(i["g"])("img",{src:u.a,alt:"乳香世家"},null,-1),S=[x,P],w=Object(i["i"])("母雞咕咕 "),z=Object(i["g"])("img",{src:g.a,alt:"母雞咕咕"},null,-1),_=[w,z],J=Object(i["i"])("軟綿綿 "),F=Object(i["g"])("img",{src:f.a,alt:"軟綿綿"},null,-1),E=[J,F],N=Object(i["i"])("可愛寵物 "),A=Object(i["g"])("img",{src:p.a,alt:"可愛寵物"},null,-1),G=[N,A],$=Object(i["i"])("賽馬大會 "),B=Object(i["g"])("img",{src:j.a,alt:"賽馬大會"},null,-1),M=[$,B],T={class:"container"},D=Object(i["g"])("option",{disabled:"",value:""},"商品排序",-1),K=Object(i["g"])("option",{value:"asc"},"價格由低到高",-1),U=Object(i["g"])("option",{value:"des"},"價格由高到低",-1),q=[D,K,U],H={class:"product-area row"},R={class:"product-item"},V={key:0,class:"tag"},W=Object(i["g"])("div",{class:"angle"},null,-1),Q={class:"product-img"},X=["src","alt"],Y={class:"product-txt"},Z={class:"product-title"},tt={class:"product-price"},et={key:0},ct={class:"cart-btn"},it=["onClick"],at=Object(i["g"])("i",{class:"fa-solid fa-cart-shopping"},null,-1),nt=Object(i["i"])("加入購物車"),ot=[at,nt],rt=["onClick"],st=Object(i["g"])("i",{class:"fa-solid fa-heart"},null,-1),ut=[st],lt=["onClick"],gt=Object(i["g"])("i",{class:"fa-regular fa-heart"},null,-1),dt=[gt];function ft(t,e,c,a,n,o){var r=Object(i["F"])("Loading"),s=Object(i["F"])("router-link"),u=Object(i["F"])("pagination");return Object(i["z"])(),Object(i["f"])("div",h,[n.isLoading?(Object(i["z"])(),Object(i["d"])(r,{key:0})):Object(i["e"])("",!0),Object(i["g"])("div",{class:Object(i["r"])(["shop-sign",{moveshopsign:!n.isLoading}])},m,2),Object(i["g"])("section",y,[Object(i["g"])("div",k,[Object(i["g"])("ul",null,[Object(i["g"])("li",{onClick:e[0]||(e[0]=function(t){return o.getProducts(1,"")}),class:Object(i["r"])({activesort:""===n.tempCategory})},L,2),Object(i["g"])("li",{onClick:e[1]||(e[1]=function(t){return o.getProducts(1,"乳香世家")}),class:Object(i["r"])({activesort:"乳香世家"===n.tempCategory})},S,2),Object(i["g"])("li",{onClick:e[2]||(e[2]=function(t){return o.getProducts(1,"母雞咕咕")}),class:Object(i["r"])({activesort:"母雞咕咕"===n.tempCategory})},_,2),Object(i["g"])("li",{onClick:e[3]||(e[3]=function(t){return o.getProducts(1,"軟綿綿")}),class:Object(i["r"])({activesort:"軟綿綿"===n.tempCategory})},E,2),Object(i["g"])("li",{onClick:e[4]||(e[4]=function(t){return o.getProducts(1,"可愛寵物")}),class:Object(i["r"])({activesort:"可愛寵物"===n.tempCategory})},G,2),Object(i["g"])("li",{onClick:e[5]||(e[5]=function(t){return o.getProducts(1,"賽馬大會")}),class:Object(i["r"])({activesort:"賽馬大會"===n.tempCategory})},M,2)])]),Object(i["g"])("div",T,[Object(i["S"])(Object(i["g"])("select",{name:"sort",id:"sort","onUpdate:modelValue":e[6]||(e[6]=function(t){return n.sort=t}),onChange:e[7]||(e[7]=function(){return o.sortProducts&&o.sortProducts.apply(o,arguments)})},q,544),[[i["M"],n.sort]]),Object(i["g"])("ul",H,[(Object(i["z"])(!0),Object(i["f"])(i["a"],null,Object(i["E"])(n.products,(function(t){return Object(i["z"])(),Object(i["f"])("li",{class:"product-card col-12 col-md-6 col-lg-3",key:t.id},[Object(i["g"])("div",R,[Object(i["j"])(s,{to:"/product/".concat(t.id)},{default:Object(i["R"])((function(){return[t.tag?(Object(i["z"])(),Object(i["f"])("div",V,[Object(i["i"])(Object(i["I"])(t.tag)+" ",1),W])):Object(i["e"])("",!0),Object(i["g"])("div",Q,[Object(i["g"])("img",{src:t.imageUrl,alt:t.title},null,8,X)]),Object(i["g"])("div",Y,[Object(i["g"])("div",Z,[Object(i["g"])("h3",null,Object(i["I"])(t.title),1),Object(i["g"])("span",null,Object(i["I"])(t.category),1)]),Object(i["g"])("div",tt,[t.origin_price!==t.price?(Object(i["z"])(),Object(i["f"])("del",et,Object(i["I"])(t.origin_price)+" G",1)):Object(i["e"])("",!0),Object(i["g"])("p",null,Object(i["I"])(t.price)+" G",1)])])]})),_:2},1032,["to"]),Object(i["g"])("div",ct,[Object(i["g"])("button",{type:"button",onClick:function(e){return o.addToCart(t.id)}},ot,8,it)]),n.favoriteId.includes(t.id)?(Object(i["z"])(),Object(i["f"])("div",{key:0,class:"fav-heart",onClick:function(e){return o.removeFavorite(t)}},ut,8,rt)):(Object(i["z"])(),Object(i["f"])("div",{key:1,class:"fav-heart",onClick:function(e){return o.addFavorite(t)}},dt,8,lt))])])})),128))])])]),Object(i["j"])(u,{category:n.tempCategory,pages:n.paginationInfo,onGetPage:o.getProducts},null,8,["category","pages","onGetPage"])])}var bt=c("2909"),pt=(c("99af"),c("d3b7"),c("6062"),c("3ca3"),c("ddb0"),c("e9c4"),c("159b"),c("a434"),c("1799")),Ot=c("c2a1"),jt={data:function(){return{isLoading:!1,products:[],paginationInfo:"",tempCategory:"",sort:"",favoriteId:[],favoriteList:[],cartData:{carts:[]}}},components:{pagination:pt["a"],Loading:Ot["a"]},inject:["emitter"],methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.isLoading=!0,this.tempCategory=c,this.$http.get("".concat("https://vue3-course-api.hexschool.io/","v2/api/").concat("tedbirdy","/products?page=").concat(e,"&category=").concat(this.tempCategory)).then((function(e){t.isLoading=!1,t.products=e.data.products,t.paginationInfo=e.data.pagination,t.sort=""}))},addToCart:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i={product_id:t,qty:c};this.isLoading=!0,this.$http.post("".concat("https://vue3-course-api.hexschool.io/","v2/api/").concat("tedbirdy","/cart"),{data:i}).then((function(){e.isLoading=!1,e.emitter.emit("push-cart"),e.emitter.emit("push-toast",{style:"success",title:"已加入購物車"})})).catch((function(t){e.emitter.emit("push-toast",{style:"danger",title:"加入購物車失敗",content:t.response.data.message})}))},sortProducts:function(){"asc"===this.sort?this.products.sort((function(t,e){return t.price-e.price})):"des"===this.sort&&this.products.sort((function(t,e){return e.price-t.price}))},addFavorite:function(t){this.favoriteList.push(t),this.favoriteId.push(t.id),this.favoriteList=Object(bt["a"])(new Set(this.favoriteList)),this.favoriteId=Object(bt["a"])(new Set(this.favoriteId)),localStorage.setItem("favoriteList",JSON.stringify(this.favoriteList)),localStorage.setItem("favoriteId",JSON.stringify(this.favoriteId))},removeFavorite:function(t){var e=this;this.favoriteList.forEach((function(c,i){c.id===t.id&&(e.favoriteList.splice(i,1),localStorage.setItem("favoriteList",JSON.stringify(e.favoriteList)))})),this.favoriteId.forEach((function(c,i){c===t.id&&(e.favoriteId.splice(i,1),localStorage.setItem("favoriteId",JSON.stringify(e.favoriteId)))}))}},mounted:function(){this.getProducts(),this.favoriteList=JSON.parse(localStorage.getItem("favoriteList"))||[],this.favoriteId=JSON.parse(localStorage.getItem("favoriteId"))||[]}},ht=(c("ee1e"),c("6b0d")),vt=c.n(ht);const mt=vt()(jt,[["render",ft]]);e["default"]=mt},d998:function(t,e,c){var i=c("342f");t.exports=/MSIE|Trident/.test(i)},d99d:function(t,e,c){},da95:function(t,e,c){t.exports=c.p+"img/momonosuke.0bc88fed.png"},ee1e:function(t,e,c){"use strict";c("d99d")}}]);
//# sourceMappingURL=chunk-7fbbb0ee.8c478b01.js.map