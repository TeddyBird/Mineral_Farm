{"version":3,"sources":["webpack:///./src/views/frontend/FavoriteView.vue","webpack:///./src/views/frontend/FavoriteView.vue?7265","webpack:///./src/views/frontend/FavoriteView.vue?232d"],"names":["class","_createElementVNode","_hoisted_17","_hoisted_21","_hoisted_24","_createElementBlock","$data","_createBlock","_component_Loading","key","_hoisted_4","_toDisplayString","length","_Fragment","_renderList","item","id","_createVNode","_component_router_link","to","tag","_hoisted_8","src","imageUrl","alt","title","category","origin_price","price","_hoisted_14","type","onClick","$options","includes","data","isLoading","favoriteId","favoriteList","components","Loading","inject","methods","addToCart","qty","product_id","this","$http","post","process","then","emitter","emit","style","catch","err","content","response","message","addFavorite","push","Set","localStorage","setItem","JSON","stringify","removeFavorite","forEach","i","index","splice","mounted","parse","getItem","__exports__","render"],"mappings":"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","file":"js/chunk-fb288984.0fdb845b.js","sourcesContent":["<template>\r\n    <div class=\"favorite\">\r\n        <Loading v-if=\"isLoading\"/>\r\n        <div class=\"container\">\r\n            <div class=\"title\">\r\n                <h2>您的追蹤清單</h2>\r\n                <span>共 {{ favoriteList.length }} 項</span>\r\n            </div>\r\n            <ul class=\"product-area row\">\r\n                <li class=\"product-card col-12 col-md-6 col-lg-3\" v-for=\"item in favoriteList\" :key=\"item.id\">\r\n                    <div class=\"product-item\">\r\n                        <router-link :to=\"`/product/${item.id}`\">\r\n                            <div class=\"tag\" v-if=\"item.tag\">{{ item.tag }}\r\n                                <div class=\"angle\"></div>\r\n                            </div>\r\n                            <div class=\"product-img\">\r\n                                <img :src=\"item.imageUrl\" :alt=\"item.title\">\r\n                            </div>\r\n                            <div class=\"product-txt\">\r\n                                <div class=\"product-title\">\r\n                                    <h3>{{ item.title }}</h3>\r\n                                    <span>{{ item.category }}</span>\r\n                                </div>\r\n                                <div class=\"product-price\">\r\n                                    <del v-if=\"item.origin_price !== item.price\">{{ item.origin_price }} G</del>\r\n                                    <p>{{ item.price }} G</p>\r\n                                </div>\r\n                            </div>\r\n                            </router-link>\r\n                        <div class=\"cart-btn\">\r\n                            <button type=\"button\" @click = \"addToCart(item.id)\"><i class=\"fa-solid fa-cart-shopping\"></i>加入購物車</button>\r\n                        </div>\r\n                        <div class=\"fav-heart\" v-if=\"favoriteId.includes(item.id)\" @click=\"removeFavorite(item)\">\r\n                            <i class=\"fa-solid fa-heart\"></i>\r\n                        </div>\r\n                        <div class=\"fav-heart\" @click=\"addFavorite(item)\" v-else>\r\n                            <i class=\"fa-regular fa-heart\"></i>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from '@/components/LoadingView.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      favoriteId: [],\r\n      favoriteList: []\r\n    }\r\n  },\r\n  components: {\r\n    Loading\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    addToCart (id, qty = 1) {\r\n      const data = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.$http.post(`${process.env.VUE_APP_API}v2/api/${process.env.VUE_APP_PATH}/cart`, { data })\r\n        .then(() => {\r\n          this.isLoading = false\r\n          this.emitter.emit('push-cart')\r\n          this.emitter.emit('push-toast', {\r\n            style: 'success',\r\n            title: '已加入購物車'\r\n          })\r\n        })\r\n        .catch((err) => {\r\n          this.emitter.emit('push-toast', {\r\n            style: 'danger',\r\n            title: '加入購物車失敗',\r\n            content: err.response.data.message\r\n          })\r\n        })\r\n    },\r\n    addFavorite (item) {\r\n      this.favoriteList.push(item)\r\n      this.favoriteId.push(item.id)\r\n      this.favoriteList = [...new Set(this.favoriteList)]\r\n      this.favoriteId = [...new Set(this.favoriteId)]\r\n      localStorage.setItem('favoriteList', JSON.stringify(this.favoriteList))\r\n      localStorage.setItem('favoriteId', JSON.stringify(this.favoriteId))\r\n    },\r\n    removeFavorite (item) {\r\n      this.favoriteList.forEach((i, index) => {\r\n        if (i.id === item.id) {\r\n          this.favoriteList.splice(index, 1)\r\n          localStorage.setItem('favoriteList', JSON.stringify(this.favoriteList))\r\n        }\r\n      })\r\n      this.favoriteId.forEach((i, index) => {\r\n        if (i === item.id) {\r\n          this.favoriteId.splice(index, 1)\r\n          localStorage.setItem('favoriteId', JSON.stringify(this.favoriteId))\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.favoriteList = JSON.parse(localStorage.getItem('favoriteList')) || []\r\n    this.favoriteId = JSON.parse(localStorage.getItem('favoriteId')) || []\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.favorite{\r\n    min-height: calc(100vh - 210px);\r\n    background-image: url(../../assets/bg_pattern_brick_pink.png);\r\n    padding: 25px 0;\r\n    .title{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: flex-end;\r\n        border-bottom: 1px solid rgb(185, 142, 81);\r\n        color: rgb(185, 142, 81);\r\n        margin-bottom: 30px;\r\n        padding: 10px 0;\r\n        h2{\r\n            font-size: 36px;\r\n            font-weight: 600;\r\n        }\r\n        span{\r\n            display: block;\r\n            font-size: 20px;\r\n            font-weight: 600;\r\n        }\r\n    }\r\n}\r\n.product-area{\r\n    padding-left: 0;\r\n    .product-card{\r\n        margin-bottom: 20px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        a{\r\n            text-decoration: none;\r\n            display: flex;\r\n            flex-direction: column;\r\n            flex-grow: 1;\r\n        }\r\n        .product-item{\r\n            border: 1px solid rgb(185, 142, 81);\r\n            position: relative;\r\n            cursor: pointer;\r\n            display: flex;\r\n            flex-direction: column;\r\n            flex-grow: 1;\r\n            &:hover{\r\n                box-shadow: 8px 8px rgba(0, 0, 0, .2);\r\n                transform: translateY(-8px);\r\n                transition: 0.1s linear;\r\n            }\r\n            a{\r\n                text-decoration: none;\r\n                display: flex;\r\n                flex-direction: column;\r\n                flex-grow: 1;\r\n            }\r\n            &:hover .product-img img{\r\n                animation: bounce1 0.3s ease-in-out 3;\r\n            }\r\n            .tag {\r\n                min-width: 70px;\r\n                background-color: rgb(185, 142, 81);\r\n                padding: 5px 10px;\r\n                text-align: center;\r\n                color: white;\r\n                position: absolute;\r\n                top: 5px;\r\n                left: -10px;\r\n                z-index: 50;\r\n                font-size: 18px;\r\n                .angle {\r\n                    height: 0;\r\n                    width: 0;\r\n                    border-top: 9px solid rgb(107, 79, 43);\r\n                    border-left: 9px solid transparent;\r\n                    position: absolute;\r\n                    left: 0;\r\n                    bottom: -9px;\r\n                }\r\n            }\r\n            .fav-heart{\r\n                position: absolute;\r\n                top: 0;\r\n                right: 5px;\r\n                .fa-heart{\r\n                    font-size: 35px;\r\n                    color: rgb(185, 142, 81);\r\n                }\r\n            }\r\n            .product-img{\r\n                overflow: hidden;\r\n                background-image: url(../../assets/bg-layer.png);\r\n                background-color: white;\r\n                img{\r\n                    width: 100%;\r\n                    vertical-align: middle;\r\n                }\r\n            }\r\n            .product-txt{\r\n                padding: 0 10px;\r\n                background-color: #eee;\r\n                position: relative;\r\n                z-index: 2;\r\n                flex-grow: 1;\r\n                display: flex;\r\n                flex-direction: column;\r\n                .product-title{\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                    padding: 5px 0;\r\n                    flex-grow: 1;\r\n                    h3{\r\n                        margin-bottom: 0;\r\n                        font-size: 24px;\r\n                        font-weight: 600;\r\n                        color: rgb(185, 142, 81);\r\n                    }\r\n                    span{\r\n                        border-radius: 5px;\r\n                        background-color: rgb(143, 200, 102);\r\n                        color: white;\r\n                        font-size: 14px;\r\n                        align-self: flex-start;\r\n                        padding: 0 8px;\r\n                        white-space:nowrap;\r\n                    }\r\n                }\r\n                .product-price{\r\n                    display: flex;\r\n                    justify-content: center;\r\n                    align-items: flex-end;\r\n                    padding: 5px 0;\r\n                    del{\r\n                        font-size: 14px;\r\n                        margin-right: 15px;\r\n                        color: rgb(122, 122, 122);\r\n                    }\r\n                    p{\r\n                        margin-bottom: 0;\r\n                        font-size: 20px;\r\n                        color: black;\r\n                    }\r\n                }\r\n            }\r\n            .cart-btn{\r\n                position: relative;\r\n                z-index: 50;\r\n                button{\r\n                    padding: 5px 0;\r\n                    border: none;\r\n                    width: 100%;\r\n                    color: white;\r\n                    font-size: 20px;\r\n                    background-color: rgb(185, 142, 81);\r\n                    .fa-cart-shopping{\r\n                        margin-right: 10px;\r\n                    }\r\n                    &:hover{\r\n                        background-color: rgb(107, 79, 43);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./FavoriteView.vue?vue&type=template&id=3f46955a\"\nimport script from \"./FavoriteView.vue?vue&type=script&lang=js\"\nexport * from \"./FavoriteView.vue?vue&type=script&lang=js\"\n\nimport \"./FavoriteView.vue?vue&type=style&index=0&id=3f46955a&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\VUE-PROJECT\\\\project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FavoriteView.vue?vue&type=style&index=0&id=3f46955a&lang=scss\""],"sourceRoot":""}